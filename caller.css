:root{
  --bg: #050505;
  --danger: #ff3b30;
  --safe: #34c759;
  --glass: rgba(255,255,255,0.08);
  --muted: rgba(255,255,255,0.12);
  --mono: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

/* Page background: deep OLED black with subtle radial vignette + grid overlay */
html,body{height:100%;}
body{
  margin:0;
  font-family:var(--mono);
  background:var(--bg);
  color:#fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  position:relative;
  overflow:hidden;
}
/* radial vignette */
body::before{
  content:"";
  position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(1200px 600px at 50% 40%, rgba(255,255,255,0.02), transparent 20%), radial-gradient(600px 300px at 50% 60%, rgba(0,0,0,0.35), transparent 50%);
  mix-blend-mode:overlay;
}
/* grid overlay (subtle 1px lines) */
body::after{
  content:"";position:fixed;inset:0;pointer-events:none;z-index:1;
  background-image: linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 36px 36px, 36px 36px;
  opacity:0.7;
}

.app{position:relative;z-index:2;min-height:100vh;display:flex;flex-direction:column;align-items:center;}

/* Header glass pill */
.glass-pill{margin:28px auto 12px; padding:10px 18px; border-radius:999px; background:var(--glass); backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,0.04); box-shadow:0 6px 20px rgba(0,0,0,0.6); display:flex; align-items:center;}
.status{display:flex;align-items:center;gap:12px;color:var(--muted);font-weight:700;letter-spacing:1px;font-size:13px}
.dot{width:12px;height:12px;border-radius:50%;display:inline-block;box-shadow:0 0 8px rgba(0,0,0,0.5);}
.status-text .primary{font-weight:800;font-size:13px;color:#cfeadf}

/* pulsing for safe state */
.idle .dot{background:var(--safe); box-shadow:0 0 10px rgba(52,199,89,0.18), 0 0 24px rgba(52,199,89,0.08); animation:pulse-safe 2s infinite}
@keyframes pulse-safe{0%{transform:scale(1)}50%{transform:scale(1.18)}100%{transform:scale(1)}}
.live .dot{background:var(--danger); box-shadow:0 0 20px rgba(255,59,48,0.28), 0 0 40px rgba(255,59,48,0.12); animation: pulse-danger 1.6s infinite}
@keyframes pulse-danger{0%{transform:scale(1)}50%{transform:scale(1.3)}100%{transform:scale(1)}}

/* Core area */
.core{flex:1;display:flex;align-items:center;justify-content:center; width:100%;}
.radar{position:relative; width:520px; height:520px; display:flex; align-items:center; justify-content:center;}

/* Radar rings behind the button */
.ring{position:absolute;border-radius:50%;border:1px solid rgba(255,59,48,0.18); box-shadow:0 0 30px rgba(255,59,48,0.02) inset; opacity:0; transform:scale(0.2);}
.r1{width:320px;height:320px}
.r2{width:420px;height:420px}
.r3{width:520px;height:520px}

/* Ripple animation when live */
.live .ring{opacity:1; border-color: rgba(255,59,48,0.28);}
.live .r1{animation:ripple 1.8s infinite cubic-bezier(.2,.7,.3,1); animation-delay:0s}
.live .r2{animation:ripple 1.8s infinite cubic-bezier(.2,.7,.3,1); animation-delay:0.6s}
.live .r3{animation:ripple 1.8s infinite cubic-bezier(.2,.7,.3,1); animation-delay:1.2s}
@keyframes ripple{
  0%{transform:scale(0.2);opacity:0.9}
  60%{transform:scale(1.4);opacity:0.18}
  100%{transform:scale(2.4);opacity:0}
}

/* SOS button */
.sos{width:220px;height:220px;border-radius:50%;border:0;cursor:pointer;position:relative;z-index:6;display:flex;align-items:center;justify-content:center;transition:box-shadow 240ms ease, transform 160ms ease;outline:none;background:radial-gradient(circle at 35% 25%, rgba(255,120,110,0.14), rgba(255,59,48,0.18) 20%, var(--danger));box-shadow:0 10px 40px rgba(255,59,48,0.06), inset 0 2px 12px rgba(255,255,255,0.02);}
.sos:active{transform:scale(0.985)}

.btn-label{display:flex;flex-direction:column;align-items:center;color:#fff}
.btn-label .main{font-size:42px;font-weight:800;letter-spacing:2px}
.btn-label .sub{font-size:11px;opacity:0.9;letter-spacing:1px;margin-top:6px}

/* Live state adds glow */
.live .sos{box-shadow:0 10px 60px rgba(255,59,48,0.28), 0 0 120px rgba(255,59,48,0.08);}
.idle .sos{box-shadow:0 8px 30px rgba(0,0,0,0.6), inset 0 2px 10px rgba(255,255,255,0.02)}

/* Footer input glass */
.footer-glass{width:100%;display:flex;justify-content:center;padding:20px 18px 36px;}
.location{width:92%;max-width:720px;background:rgba(255,255,255,0.04);backdrop-filter:blur(10px);border-radius:14px;padding:12px 14px;display:flex;align-items:center;gap:12px;border:1px solid rgba(255,255,255,0.04);}
.loc-icon{color:rgba(255,255,255,0.8);opacity:0.9}
.location input{flex:1;background:transparent;border:0;color:#fff;font-size:14px;outline:none;padding:6px 2px}
.location input::placeholder{color:rgba(255,255,255,0.32);font-weight:600}

/* Small responsive tweaks */
@media (max-width:640px){
  .radar{width:380px;height:380px}
  .r1{width:240px;height:240px}
  .r2{width:320px;height:320px}
  .r3{width:380px;height:380px}
  .sos{width:180px;height:180px}
  .btn-label .main{font-size:34px}
}

/* Top-right compact glass menu */
.menu-wrap{position:fixed;top:18px;right:18px;z-index:40;display:flex;flex-direction:column;align-items:flex-end;gap:8px}
.menu-toggle{width:44px;height:44px;border-radius:10px;border:0;background:var(--glass);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.04)}
.menu-toggle:focus{outline:2px solid rgba(255,255,255,0.06)}

.menu-dropdown{margin-top:6px;min-width:160px;background:rgba(255,255,255,0.04);backdrop-filter:blur(10px);border-radius:12px;padding:8px;box-shadow:0 10px 30px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.04);transform-origin:top right;opacity:0;transform:translateY(-6px) scale(0.98);pointer-events:none;transition:opacity 180ms ease, transform 180ms cubic-bezier(.2,.9,.2,1)}
.menu-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;background:transparent;border:0;color:#fff;font-weight:700;font-size:13px;cursor:pointer}
.menu-item .label{color:rgba(255,255,255,0.92)}
.menu-item:hover{background:rgba(255,255,255,0.02)}
.menu-item[aria-pressed="true"]{background:rgba(52,199,89,0.12);color:var(--safe)}

/* Active page/tab */
.menu-item.active{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-left:3px solid var(--safe);padding-left:10px;color:var(--safe)}
.menu-item.page-link{padding:8px 12px;font-weight:800}

/* show dropdown when body has class */
.menu-open .menu-dropdown{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}

/* small flash for location fill */
.location.flash{box-shadow:0 0 18px rgba(52,199,89,0.14);border-color:rgba(52,199,89,0.12)}

@media (max-width:640px){
  .menu-wrap{top:12px;right:12px}
  .menu-toggle{width:40px;height:40px}
}
